<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Puli\RepositoryManager\Repository\RepositoryUpdater | Puli API</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

	<script>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', "UA-8282807-3"]);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-Puli.html">
						Puli<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.html">
						Discovery<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.Api.html">
						Api<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.Api.Binding.html">
						Binding					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Api.Validation.html">
						Validation					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Discovery.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Binding.html">
						Binding					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Validation.html">
						Validation					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Factory.html">
						Factory					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.html">
						Repository<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Api.html">
						Api<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Api.Resource.html">
						Resource					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Repository.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.html">
						Resource<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Resource.Collection.html">
						Collection					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.Iterator.html">
						Iterator					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.Metadata.html">
						Metadata					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Repository.StreamWrapper.html">
						StreamWrapper					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Uri.html">
						Uri					</a>

						</li>
							</ul></li>
				<li class="active">
					<a href="namespace-Puli.RepositoryManager.html">
						RepositoryManager<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Config.html">
						Config<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Config.ConfigFile.html">
						ConfigFile<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Config.ConfigFile.Reader.html">
						Reader					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Config.ConfigFile.Writer.html">
						Writer					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Conflict.html">
						Conflict					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Discovery.html">
						Discovery<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Discovery.Store.html">
						Store					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Environment.html">
						Environment					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Event.html">
						Event					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.html">
						Generator<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.Discovery.html">
						Discovery					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.KeyValueStore.html">
						KeyValueStore					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.Repository.html">
						Repository					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Package.html">
						Package<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Package.PackageFile.html">
						PackageFile<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Package.PackageFile.Reader.html">
						Reader					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Package.PackageFile.Writer.html">
						Writer					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Plugin.html">
						Plugin					</a>

						</li>
				<li class="active">
					<a href="namespace-Puli.RepositoryManager.Repository.html">
						Repository<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Repository.Iterator.html">
						Iterator					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Util.html">
						Util					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-Webmozart.html">
						Webmozart<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.html">
						KeyValueStore<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Api.html">
						Api					</a>

						</li>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Util.html">
						Util					</a>

						</li>
							</ul></li></ul></li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Puli.RepositoryManager.Repository.RepositoryManager.html">RepositoryManager</a></li>
				<li class="active"><a href="class-Puli.RepositoryManager.Repository.RepositoryUpdater.html">RepositoryUpdater</a></li>
				<li><a href="class-Puli.RepositoryManager.Repository.ResourceMapping.html">ResourceMapping</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-Puli.RepositoryManager.Repository.NoSuchMappingException.html">NoSuchMappingException</a></li>
				<li><a href="class-Puli.RepositoryManager.Repository.RepositoryNotEmptyException.html">RepositoryNotEmptyException</a></li>
				<li><a href="class-Puli.RepositoryManager.Repository.ResourceDefinitionException.html">ResourceDefinitionException</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Puli.RepositoryManager.Repository.html" title="Summary of Puli\RepositoryManager\Repository"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class RepositoryUpdater</h1>


	<div class="description">
	<p>Adds new resources to a resource repository.</p>

<p>You can register resource mappings for insertion by calling <code><a href="class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#_add">Puli\RepositoryManager\Repository\RepositoryUpdater::add()</a></code>.
All registered mappings will be inserted into the repository when you
call <code><a href="class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#_commit">Puli\RepositoryManager\Repository\RepositoryUpdater::commit()</a></code>. This method respects the package order specified
in the package graph passed to the constructor.</p>
	</div>









	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Puli.html">Puli</a>\<a href="namespace-Puli.RepositoryManager.html">RepositoryManager</a>\<a href="namespace-Puli.RepositoryManager.Repository.html">Repository</a><br>
		

				<b>Author:</b>
				Bernhard Schussek <a href="&#x6d;&#x61;&#105;&#108;&#116;&#x6f;&#x3a;&#x62;&#115;&#99;h&#x75;&#x73;&#115;&#101;&#107;&#x40;&#x67;&#x6d;&#97;&#105;l&#x2e;&#x63;&#111;&#109;">&#x62;&#115;&#99;h&#x75;&#x73;&#115;&#101;&#107;&#x40;&#x67;&#x6d;&#97;&#105;l&#x2e;&#x63;&#111;&#109;</a><br>
				<b>Since:</b>
				1.0<br>
			<b>Located at</b> <a href="source-class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#19-119" title="Go to source code">Repository/RepositoryUpdater.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#47-59" title="Go to source code">__construct</a>( <span><code><a href="class-Puli.Repository.Api.EditableRepository.html">Puli\Repository\Api\EditableRepository</a></code> <var>$repo</var></span>, <span><code><a href="class-Puli.RepositoryManager.Conflict.OverrideGraph.html">Puli\RepositoryManager\Conflict\OverrideGraph</a></code> <var>$overrideGraph</var></span> )</code>

		<div class="description short">
			<p>Creates a new updater.</p>
		</div>

		<div class="description detailed hidden">
			<p>Creates a new updater.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$repo</var></dt>
					<dd>The repository to update.</dd>
					<dt><var>$overrideGraph</var></dt>
					<dd><p>The graph determining which
                                         the order in which to process
                                         the packages.</p></dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="add" id="_add">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_add">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#61-78" title="Go to source code">add</a>( <span><code><a href="class-Puli.RepositoryManager.Repository.ResourceMapping.html">Puli\RepositoryManager\Repository\ResourceMapping</a></code> <var>$mapping</var></span>, <span>string <var>$packageName</var></span> )</code>

		<div class="description short">
			<p>Adds a resource mapping to be inserted for a given package.</p>
		</div>

		<div class="description detailed hidden">
			<p>Adds a resource mapping to be inserted for a given package.</p>

<p>The filesystem paths of the mapping need to have been converted to
absolute paths.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$mapping</var></dt>
					<dd>The resource mapping.</dd>
					<dt><var>$packageName</var></dt>
					<dd><p>The package name that defines the
                                    mapping.</p></dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="clear" id="_clear">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_clear">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#80-86" title="Go to source code">clear</a>( )</code>

		<div class="description short">
			<p>Clears all pending additions.</p>
		</div>

		<div class="description detailed hidden">
			<p>Clears all pending additions.</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="commit" id="_commit">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_commit">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Repository.RepositoryUpdater.html#88-118" title="Go to source code">commit</a>( )</code>

		<div class="description short">
			<p>Adds all pending additions to the repository.</p>
		</div>

		<div class="description detailed hidden">
			<p>Adds all pending additions to the repository.</p>

<p>The resources are added to the repository in the order determined by the
package graph passed to the constructor. Resources of overridden
packages are added to the repository before the resources of the
overriding packages.</p>







		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		Puli API API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
