<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Puli\RepositoryManager\Puli | Puli API</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

	<script>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', "UA-8282807-3"]);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-Puli.html">
						Puli<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.html">
						Discovery<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.Api.html">
						Api<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Discovery.Api.Binding.html">
						Binding					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Api.Validation.html">
						Validation					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Discovery.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Binding.html">
						Binding					</a>

						</li>
				<li>
					<a href="namespace-Puli.Discovery.Validation.html">
						Validation					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Factory.html">
						Factory					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.html">
						Repository<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Api.html">
						Api<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Api.Resource.html">
						Resource					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Repository.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.html">
						Resource<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.Repository.Resource.Collection.html">
						Collection					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.Iterator.html">
						Iterator					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Resource.Metadata.html">
						Metadata					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.Repository.StreamWrapper.html">
						StreamWrapper					</a>

						</li>
				<li>
					<a href="namespace-Puli.Repository.Uri.html">
						Uri					</a>

						</li>
							</ul></li>
				<li class="active">
					<a href="namespace-Puli.RepositoryManager.html">
						RepositoryManager<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.html">
						Api<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Config.html">
						Config					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Discovery.html">
						Discovery					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Environment.html">
						Environment					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Event.html">
						Event					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Package.html">
						Package					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Api.Repository.html">
						Repository					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Config.html">
						Config					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Conflict.html">
						Conflict					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Discovery.html">
						Discovery<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Discovery.Binding.html">
						Binding					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Discovery.Type.html">
						Type					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Environment.html">
						Environment					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.html">
						Generator<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.Discovery.html">
						Discovery					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.KeyValueStore.html">
						KeyValueStore					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Generator.Repository.html">
						Repository					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Package.html">
						Package					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Repository.html">
						Repository<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Puli.RepositoryManager.Repository.Iterator.html">
						Iterator					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Repository.Mapping.html">
						Mapping					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Transaction.html">
						Transaction					</a>

						</li>
				<li>
					<a href="namespace-Puli.RepositoryManager.Util.html">
						Util					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-Webmozart.html">
						Webmozart<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.html">
						KeyValueStore<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Api.html">
						Api					</a>

						</li>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Assert.html">
						Assert					</a>

						</li>
				<li>
					<a href="namespace-Webmozart.KeyValueStore.Util.html">
						Util					</a>

						</li>
							</ul></li></ul></li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Puli.RepositoryManager.Puli.html">Puli</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Puli.RepositoryManager.html" title="Summary of Puli\RepositoryManager"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Puli</h1>


	<div class="description">
	<p>Provides access to the Puli managers.</p>

<p>Use this class to access the managers provided by this package:</p>

<pre><span class="php-var">$puli</span> = <span class="php-keyword1">new</span> Puli(<span class="php-keyword2">getcwd</span>());
<span class="php-var">$packageManager</span> = <span class="php-var">$puli</span>-&gt;getPackageManager();</pre>

<p>The <code>Puli</code> class either operates in the global or a project environment:
 * The "global environment" is not tied to a specific root package. A global environment only loads the settings of the "config.json" file in the home directory. The <code>Puli</code> class operates in the global environment if no project root directory is passed to the constructor. In the global environment, only the global config file manager is available. * The "project environment" is tied to a specific Puli project. You need to pass the path to the project's root directory to the constructor or to setRootDir(). The configuration of the "puli.json" file in the root directory is used to configure the managers.</p>

<p>The <code>Puli</code> class creates four kinds of managers:
 * The "config file manager" allows you to modify entries of the "config.json" file in the home directory. * The "package file manager" manages modifications to the "puli.json" file of a Puli project. * The "package manager" manages the package repository of a Puli project. * The "repository manager" manages the resource repository of a Puli project. * The "discovery manager" manages the resource discovery of a Puli project.</p>

<p>The home directory is read from the environment variable "PULI_HOME".
If this variable is not set, the home directory defaults to:
 * <code>$HOME/.puli</code> on Linux, where <code>$HOME</code> is the environment variable "HOME". * <code>$APPDATA/Puli</code> on Windows, where <code>$APPDATA</code> is the environment variable "APPDATA".</p>

<p>If none of these variables can be found, an exception is thrown.</p>

<p>A .htaccess file is put into the home directory to protect it from web
access.</p>
	</div>









	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Puli.html">Puli</a>\<a href="namespace-Puli.RepositoryManager.html">RepositoryManager</a><br>
		

				<b>Author:</b>
				Bernhard Schussek <a href="&#x6d;&#x61;&#105;&#108;&#116;&#x6f;&#x3a;&#x62;&#115;&#99;h&#x75;&#x73;&#115;&#101;&#107;&#x40;&#x67;&#x6d;&#97;&#105;l&#x2e;&#x63;&#111;&#109;">&#x62;&#115;&#99;h&#x75;&#x73;&#115;&#101;&#107;&#x40;&#x67;&#x6d;&#97;&#105;l&#x2e;&#x63;&#111;&#109;</a><br>
				<b>Since:</b>
				1.0<br>
			<b>Located at</b> <a href="source-class-Puli.RepositoryManager.Puli.html#44-561" title="Go to source code">Puli.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#172-187" title="Go to source code">__construct</a>( <span>string <var>$rootDir</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Creates a new instance for the given Puli project.</p>
		</div>

		<div class="description detailed hidden">
			<p>Creates a new instance for the given Puli project.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$rootDir</var></dt>
					<dd><p>The root directory of the Puli project. If none
                       is passed, the object operates in the global
                       environment. You can set or switch root
                       directories anytime by calling setRootDir().</p></dd>
				</dl></div>



				<h4>See</h4>
				<div class="list">
						<code><a href="class-Puli.RepositoryManager.Puli.html">Puli\RepositoryManager\Puli</a></code>, <code><a href="class-Puli.RepositoryManager.Puli.html#_setRootDirectory">Puli\RepositoryManager\Puli::setRootDirectory()</a></code><br>
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="setRootDirectory" id="_setRootDirectory">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setRootDirectory">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#189-211" title="Go to source code">setRootDirectory</a>( <span>string|null <var>$rootDir</var></span> )</code>

		<div class="description short">
			<p>Sets the managed Puli project.</p>
		</div>

		<div class="description detailed hidden">
			<p>Sets the managed Puli project.</p>

<p>If a previous project was set, all managers are discarded. You can also
switch to the global environment by passing <code>null</code>.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$rootDir</var></dt>
					<dd><p>The root directory of the Puli project. If
                            you pass <code>null</code>, the object operates in the
                            global environment. You can set or switch
                            root directories anytime.</p></dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.FileNotFoundException.html">Puli\RepositoryManager\Api\FileNotFoundException</a></code><br>If the path does not exist.<br>
					<code><a href="class-Puli.RepositoryManager.Api.NoDirectoryException.html">Puli\RepositoryManager\Api\NoDirectoryException</a></code><br>If the path points to a file.
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getRootDirectory" id="_getRootDirectory">

		<td class="attributes"><code>
			 public 

			string|null
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRootDirectory">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#213-224" title="Go to source code">getRootDirectory</a>( )</code>

		<div class="description short">
			<p>Returns the root directory of the managed Puli project.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the root directory of the managed Puli project.</p>

<p>If no Puli project is managed at the moment, <code>null</code> is returned.</p>



				<h4>Returns</h4>
				<div class="list">
					string|null<br><p>The root directory of the managed Puli project or
                    <code>null</code> if none is set.</p>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setLogger" id="_setLogger">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setLogger">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#226-239" title="Go to source code">setLogger</a>( <span>Psr\Log\LoggerInterface <var>$logger</var></span> )</code>

		<div class="description short">
			<p>Sets the logger to use.</p>
		</div>

		<div class="description detailed hidden">
			<p>Sets the logger to use.</p>

<p>All managers are reloaded after calling this method.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$logger</var></dt>
					<dd>The logger to use.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getLogger" id="_getLogger">

		<td class="attributes"><code>
			 public 

			Psr\Log\LoggerInterface
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getLogger">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#241-249" title="Go to source code">getLogger</a>( )</code>

		<div class="description short">
			<p>Returns the used logger.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the used logger.</p>



				<h4>Returns</h4>
				<div class="list">
					Psr\Log\LoggerInterface<br>The used logger.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getEnvironment" id="_getEnvironment">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Environment.GlobalEnvironment.html">Puli\RepositoryManager\Api\Environment\GlobalEnvironment</a></code>|<code><a href="class-Puli.RepositoryManager.Api.Environment.ProjectEnvironment.html">Puli\RepositoryManager\Api\Environment\ProjectEnvironment</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getEnvironment">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#251-259" title="Go to source code">getEnvironment</a>( )</code>

		<div class="description short">
			<p>Returns the environment.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the environment.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Environment.GlobalEnvironment.html">Puli\RepositoryManager\Api\Environment\GlobalEnvironment</a></code>|<code><a href="class-Puli.RepositoryManager.Api.Environment.ProjectEnvironment.html">Puli\RepositoryManager\Api\Environment\ProjectEnvironment</a></code><br>The environment.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getConfigFileManager" id="_getConfigFileManager">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Config.ConfigFileManager.html">Puli\RepositoryManager\Api\Config\ConfigFileManager</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getConfigFileManager">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#261-273" title="Go to source code">getConfigFileManager</a>( )</code>

		<div class="description short">
			<p>Returns the configuration file manager.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the configuration file manager.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Config.ConfigFileManager.html">Puli\RepositoryManager\Api\Config\ConfigFileManager</a></code><br>The configuration file manager.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getRootPackageFileManager" id="_getRootPackageFileManager">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Package.RootPackageFileManager.html">Puli\RepositoryManager\Api\Package\RootPackageFileManager</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRootPackageFileManager">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#275-287" title="Go to source code">getRootPackageFileManager</a>( )</code>

		<div class="description short">
			<p>Returns the root package file manager.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the root package file manager.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Package.RootPackageFileManager.html">Puli\RepositoryManager\Api\Package\RootPackageFileManager</a></code><br>The package file manager.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getPackageManager" id="_getPackageManager">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Package.PackageManager.html">Puli\RepositoryManager\Api\Package\PackageManager</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getPackageManager">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#289-301" title="Go to source code">getPackageManager</a>( )</code>

		<div class="description short">
			<p>Returns the package manager.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the package manager.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Package.PackageManager.html">Puli\RepositoryManager\Api\Package\PackageManager</a></code><br>The package manager.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getRepositoryManager" id="_getRepositoryManager">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Repository.RepositoryManager.html">Puli\RepositoryManager\Api\Repository\RepositoryManager</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRepositoryManager">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#303-315" title="Go to source code">getRepositoryManager</a>( )</code>

		<div class="description short">
			<p>Returns the resource repository manager.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the resource repository manager.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Repository.RepositoryManager.html">Puli\RepositoryManager\Api\Repository\RepositoryManager</a></code><br>The repository manager.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getDiscoveryManager" id="_getDiscoveryManager">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Puli.RepositoryManager.Api.Discovery.DiscoveryManager.html">Puli\RepositoryManager\Api\Discovery\DiscoveryManager</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getDiscoveryManager">#</a>
		<code><a href="source-class-Puli.RepositoryManager.Puli.html#317-329" title="Go to source code">getDiscoveryManager</a>( )</code>

		<div class="description short">
			<p>Returns the resource discovery manager.</p>
		</div>

		<div class="description detailed hidden">
			<p>Returns the resource discovery manager.</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Puli.RepositoryManager.Api.Discovery.DiscoveryManager.html">Puli\RepositoryManager\Api\Discovery\DiscoveryManager</a></code><br>The discovery manager.
				</div>




		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		Puli API API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
